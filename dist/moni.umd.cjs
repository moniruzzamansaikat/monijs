(function(c,h){typeof exports=="object"&&typeof module<"u"?module.exports=h():typeof define=="function"&&define.amd?define(h):(c=typeof globalThis<"u"?globalThis:c||self,c.moniJs=h())})(this,function(){"use strict";const c={html:function(e){return e?(this.each(function(t){t.innerHTML=e}),this):this[0]?this[0].innerHTML:void 0},each:function(e){return Array.prototype.forEach.call(this,function(t,n){e.call(t,t,n)}),this},remove:function(){return this.each(function(e){e.parentNode&&e.parentNode.removeChild(e)}),this},attr:function(e,t){return t?(this.each(function(n){n.setAttribute(e,t)}),this):this[0]?this[0].getAttribute(e):void 0},data:function(e,t){return t?(this.each(function(n){n.dataset[e]=t}),this):this[0]?this[0].dataset[e]:void 0},add:function(e,t){if(typeof e=="string")if(e.includes("<")){t=t||1;const n=document.createDocumentFragment();for(let i=0;i<t;i++){const r=document.createElement("div");for(r.innerHTML=e;r.firstChild;)n.appendChild(r.firstChild)}this.each(function(i){i.appendChild(n.cloneNode(!0))})}else t=t||1,this.each(function(n){for(let i=0;i<t;i++){const r=document.createElement(e);n.appendChild(r)}});else e instanceof s&&this.each(function(n){e.each(function(i){n.appendChild(i.cloneNode(!0))})});return this},addPrevious:function(e){return typeof e=="string"?this.each(function(t){const n=document.createDocumentFragment(),i=document.createElement("div");for(i.innerHTML=e;i.firstChild;)n.appendChild(i.firstChild);t.parentNode.insertBefore(n,t)}):e instanceof s&&this.each(function(t){e.each(function(n){t.parentNode.insertBefore(n.cloneNode(!0),t)})}),this},addBehind:function(e){return typeof e=="string"?this.each(function(t){const n=document.createDocumentFragment(),i=document.createElement("div");for(i.innerHTML=e;i.firstChild;)n.appendChild(i.firstChild);t.nextSibling?t.parentNode.insertBefore(n,t.nextSibling):t.parentNode.appendChild(n)}):e instanceof s&&this.each(function(t){e.each(function(n){t.nextSibling?t.parentNode.insertBefore(n.cloneNode(!0),t.nextSibling):t.parentNode.appendChild(n.cloneNode(!0))})}),this},siblings:function(){const e=[];return this.each(function(t){Array.prototype.forEach.call(t.parentNode.children,function(n){n!==t&&e.push(n)})}),s(e)},val:function(e){return e===void 0?this[0]?this[0].value:void 0:(this.each(function(t){(t.tagName==="SELECT"||t.tagName==="INPUT"||t.tagName==="TEXTAREA")&&(t.value=e)}),this)},first:function(){const e=this[0];return e?s(e):null},last:function(){const e=this[this.length-1];return e?s(e):null},at:function(e){return e<this.length?s(this[e]):null},values:function(){const e={},t=this[0].elements;return Array.prototype.forEach.call(t,function(n){if(n.name&&!n.disabled)if(n.type==="checkbox"||n.type==="radio")n.checked&&(e[n.name]=n.value);else if(n.tagName==="SELECT"&&n.multiple){const i=[];Array.prototype.forEach.call(n.options,function(r){r.selected&&i.push(r.value)}),e[n.name]=i}else n.type==="file"?e[n.name]=n.files.length>1?n.files:n.files[0]:e[n.name]=n.value}),e},after:function(e){return this.each(function(t){t.insertAdjacentHTML("afterend",e)}),this},before:function(e){return this.each(function(t){t.insertAdjacentHTML("beforebegin",e)}),this},children:function(){const e=[];return this.each(function(t){Array.prototype.push.apply(e,t.children)}),s(e)},empty:function(){return this.each(function(e){e.innerHTML=""}),this},clone:function(e=!0){const t=[];return this.each(function(n){t.push(n.cloneNode(e||!1))}),s(t)},search:function(e){const t=[];return typeof e=="string"?this.each(function(n){const i=n.querySelectorAll(e);Array.prototype.push.apply(t,i)}):e instanceof s&&this.each(function(n){e.each(function(i){n.contains(i)&&t.push(i)})}),s(t)},near:function(e){const t=[],n=typeof e=="string";let i;return n?i=[e]:i=Array.isArray(e)?e.map(r=>r.nodeType?r.tagName.toLowerCase():null).filter(Boolean):Array.from(e).map(r=>r.nodeType?r.tagName.toLowerCase():null).filter(Boolean),this.each(function(r){let o=r;for(;o&&o!==document;){if(n){if(o.matches(e)){t.push(o);break}}else if(i.some(a=>o.tagName.toLowerCase()===a)){t.push(o);break}o=o.parentElement}}),s(t)}},h={on:function(e,t){return this.each(function(n){n.addEventListener(e,t)}),this}},u={css:function(e,t){return t?this.each(function(n){n.style[e]=t}):this[0]?getComputedStyle(this[0])[e]:void 0},classes:function(){const e=this[0]?this[0].classList:void 0,t={has:function(n){return e?e.contains(n):!1},add:function(n){return e&&e.add(n),this},remove:function(n){return e&&e.remove(n),this},toggle:function(n){return e&&e.toggle(n),this},toArray:function(){return e?Array.from(e):[]}};return Object.assign(Object.create(this.constructor.fn),t,this)}};class d{constructor(){this.url="",this.method="GET",this.headers={},this.data=null,this.callbacks={loading:()=>{},failed:()=>{},success:()=>{},end:()=>{}}}request(t){return this.url=t,this}type(t){return this.method=t.toUpperCase(),this}header(t){return this.headers={...this.headers,...t},this}send(t){if(this.headers["Content-Type"]&&this.headers["Content-Type"]==="application/json")this.data=JSON.stringify(t);else if(t instanceof FormData)this.data=t;else{const n=new FormData;for(let i in t)t.hasOwnProperty(i)&&n.append(i,t[i]);this.data=n}return this}loading(t){return this.callbacks.loading=t,this}failed(t){return this.callbacks.failed=t,this}success(t){return this.callbacks.success=t,this}end(t){return this.callbacks.end=t,this}async execute(){const{url:t,method:n,headers:i,data:r,callbacks:o}=this;o.loading();try{const a={method:n,headers:{...i},body:r},f=await fetch(t,a);if(!f.ok)throw new Error(`HTTP error! status: ${f.status} - ${f.statusText}`);const p=await f.json();o.success(p)}catch(a){a.message==="Failed to fetch"?o.failed({type:"Network Error",message:"The request could not reach the server. Please check your URL or internet connection.",originalError:a}):o.failed({type:"HTTP Error",message:a.message,originalError:a})}finally{o.end()}}}function l(){return new d}const s=function(e){return new s.fn.init(e)};return s.fn=s.prototype={constructor:s,length:0,init:function(e){if(!e)return this;if(e instanceof s)return e;if(typeof e=="string")if(e[0]==="#")this[0]=document.getElementById(e.slice(1)),this.length=1;else{const t=document.querySelectorAll(e);Array.prototype.push.apply(this,t)}else e.nodeType?(this[0]=e,this.length=1):Array.isArray(e)&&Array.prototype.push.apply(this,e);return this},ajax:function(){return l()}},Object.assign(s.fn,c,h,u),s.loaded=function(e){document.readyState!=="loading"?e():document.addEventListener("DOMContentLoaded",e)},s.fn.init.prototype=s.fn,s});
